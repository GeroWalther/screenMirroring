<!doctype html>
<html class="h-full">
  <head>
    <meta charset="UTF-8" />
    <title>Screen Mirror - Sender</title>
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self' 'unsafe-inline'; connect-src 'self' ws: wss:;" />
    <link rel="stylesheet" href="index.css" />
  </head>
  <body class="h-full bg-dark-primary text-dark-text font-sans">
    <div class="h-full flex flex-col">
      <!-- Header -->
      <header
        class="bg-dark-secondary px-8 py-4 flex justify-between items-center border-b border-dark-accent">
        <h1 class="text-2xl font-semibold">Screen Mirror Sender</h1>
        <div class="flex items-center gap-2">
          <span class="status-dot" id="status-dot"></span>
          <span class="text-sm text-dark-text-secondary" id="status-text"
            >Disconnected</span
          >
        </div>
      </header>

      <!-- Main Content -->
      <main
        class="flex-1 p-8 grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-6xl mx-auto w-full">
        <!-- Connection Section -->
        <div class="bg-dark-secondary rounded-lg p-6 border border-dark-accent">
          <h2 class="text-xl font-medium mb-6">Connection</h2>

          <div class="space-y-4">
            <div>
              <label
                for="room-input"
                class="block mb-2 font-medium text-dark-text-secondary"
                >Room Code:</label
              >
              <input
                type="text"
                id="room-input"
                class="input-field"
                placeholder="Enter room code"
                value="livingroom" />
            </div>

            <div>
              <label
                for="server-input"
                class="block mb-2 font-medium text-dark-text-secondary"
                >Signaling Server:</label
              >
              <input
                type="text"
                id="server-input"
                class="input-field"
                placeholder="ws://192.168.1.100:8080"
                value="ws://localhost:8080" />
            </div>

            <div class="flex gap-2 pt-4">
              <button id="start-btn" class="btn btn-primary flex-1">
                Start Sharing
              </button>
              <button id="stop-btn" class="btn btn-secondary flex-1" disabled>
                Stop Sharing
              </button>
            </div>
          </div>
        </div>

        <!-- Quality Section -->
        <div
          class="bg-dark-secondary rounded-lg p-6 border border-dark-accent lg:row-span-2">
          <h2 class="text-xl font-medium mb-6">Quality Settings</h2>

          <!-- Presets -->
          <div class="mb-6">
            <h3 class="text-sm font-medium text-dark-text-secondary mb-3">
              Presets
            </h3>
            <div class="flex flex-wrap gap-2">
              <button class="preset-btn" data-preset="cinema">
                Cinema (1080p30)
              </button>
              <button class="preset-btn" data-preset="smooth">
                Smooth (720p60)
              </button>
              <button class="preset-btn" data-preset="battery">
                Battery Saver (900p30)
              </button>
            </div>
          </div>

          <!-- Custom Settings -->
          <div class="border-t border-dark-accent pt-6">
            <h3 class="text-sm font-medium text-dark-text-secondary mb-4">
              Custom Settings
            </h3>

            <div class="space-y-6">
              <div>
                <label
                  for="bitrate-slider"
                  class="block mb-2 text-sm text-dark-text-secondary">
                  Max Bitrate:
                  <span id="bitrate-value" class="text-blue-400 font-medium"
                    >6</span
                  >
                  Mbps
                </label>
                <input
                  type="range"
                  id="bitrate-slider"
                  min="1"
                  max="20"
                  value="6"
                  step="1" />
              </div>

              <div>
                <label
                  for="framerate-slider"
                  class="block mb-2 text-sm text-dark-text-secondary">
                  Frame Rate:
                  <span id="framerate-value" class="text-blue-400 font-medium"
                    >30</span
                  >
                  fps
                </label>
                <input
                  type="range"
                  id="framerate-slider"
                  min="15"
                  max="60"
                  value="30"
                  step="15" />
              </div>
            </div>
          </div>
        </div>

        <!-- Stats Section -->
        <div
          class="bg-dark-secondary rounded-lg p-6 border border-dark-accent hidden"
          id="stats-section">
          <h2 class="text-xl font-medium mb-6">Connection Stats</h2>

          <div class="grid grid-cols-2 gap-4">
            <div
              class="flex justify-between items-center py-2 border-b border-dark-accent">
              <span class="text-dark-text-secondary text-sm">Bitrate:</span>
              <span class="text-blue-400 font-medium text-sm" id="stat-bitrate"
                >-</span
              >
            </div>
            <div
              class="flex justify-between items-center py-2 border-b border-dark-accent">
              <span class="text-dark-text-secondary text-sm">Frame Rate:</span>
              <span
                class="text-blue-400 font-medium text-sm"
                id="stat-framerate"
                >-</span
              >
            </div>
            <div
              class="flex justify-between items-center py-2 border-b border-dark-accent">
              <span class="text-dark-text-secondary text-sm">Packet Loss:</span>
              <span
                class="text-blue-400 font-medium text-sm"
                id="stat-packetloss"
                >-</span
              >
            </div>
            <div
              class="flex justify-between items-center py-2 border-b border-dark-accent">
              <span class="text-dark-text-secondary text-sm">RTT:</span>
              <span class="text-blue-400 font-medium text-sm" id="stat-rtt"
                >-</span
              >
            </div>
          </div>
        </div>

        <!-- Log Section -->
        <div
          class="bg-dark-secondary rounded-lg p-6 border border-dark-accent lg:col-span-2">
          <h2 class="text-xl font-medium mb-6">Connection Log</h2>

          <div
            class="bg-dark-primary border border-dark-accent rounded p-4 h-48 overflow-y-auto font-mono text-xs"
            id="log-container">
            <div class="log-entry log-info">
              Ready to start screen sharing...
            </div>
          </div>
        </div>
      </main>
    </div>

    <script type="module" src="./app.js"></script>
  </body>
</html>
